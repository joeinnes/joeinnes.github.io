{"version":3,"sources":["app/initialize.js","app/main.js"],"names":["document","addEventListener","require","baseUrl","window","fetch","then","data","json","Promise","all","map","item","resolve","reject","status","newStory","createCard","catch","err","console","error","projects","filter","undefined","forEach","getElementById","appendChild","style","display","url","card","createElement","classList","add","article","title","innerText","link","href","img","src","image","alt","summary","techSection","techSectionHeader","techList","techStack","technologies_used","sort","a","b","tech","thisTech","innerHTML","creditSection","creditSectionHeader","creditsList","creds","credits","name","credit","randomColour","colours","Math","floor","random","length"],"mappings":"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","file":"public/js/app.js","sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n  require('./main')\n})\n","require('whatwg-fetch') // Monkey-patch global environment with fetch\n\nconst baseUrl = 'https://joeinn.es/'\nwindow.fetch('projects.json')\n  .then((data) => data.json())\n  .then((data) => {\n    Promise.all(data.map((item) => {\n      return new Promise((resolve, reject) => {\n        window.fetch('https://joeinn.es/' + item + '/project.json')\n          .then((data) => {\n            if (data.status === 200) {\n              return data.json()\n            } else {\n              return null\n            }\n          })\n          .then((data) => {\n            if (data) {\n              let newStory = createCard(data, baseUrl + item)\n              resolve(newStory)\n            } else {\n              resolve()\n            }\n          })\n          .catch((err) => {\n            console.error(err)\n            resolve()\n          })\n      })\n    }))\n      .then((data) => {\n        let projects = data.filter((item) => item !== undefined)\n        projects.forEach((item) => {\n          document.getElementById('portfolio').appendChild(item)\n        })\n        document.getElementById('loading').style.display = 'none'\n      })\n      .catch((err) => {\n        console.error('Something went terribly wrong: ' + err)\n      })\n  })\n  .catch((err) => {\n    console.error('Something went terribly wrong: ' + err)\n  })\n\nfunction createCard (data, url) {\n  let card = document.createElement('div')\n  card.classList.add('fl', 'w-100', 'w-50-ns')\n\n  let article = document.createElement('article')\n  article.classList.add('pa1', 'pa3-ns', 'f5', 'f4-ns')\n\n  let title = document.createElement('h2')\n  title.classList.add('f2')\n  title.innerText = data.title\n\n  let link = document.createElement('a')\n  link.classList.add('link')\n  link.href = url\n\n  let img = document.createElement('img')\n  img.classList.add('w-100', 'f5', 'f4-ns', 'measure', 'grow')\n  img.src = url + '/' + data.image\n  img.alt = 'Screenshot of ' + data.title\n\n  link.appendChild(img)\n\n  let summary = document.createElement('p')\n  summary.classList.add('measure', 'lh-copy')\n  summary.innerText = data.summary\n\n  let techSection = document.createElement('section')\n  let techSectionHeader = document.createElement('h3')\n  techSectionHeader.innerText = 'Built using:'\n\n  let techList = document.createElement('ul')\n  techList.classList.add('list', 'pl0')\n  let techStack = data.technologies_used.sort((a, b) => a > b)\n  techStack.forEach((tech) => {\n    let thisTech = document.createElement('li')\n    thisTech.innerHTML = tech\n    techList.appendChild(thisTech)\n  })\n\n  techSection.appendChild(techSectionHeader)\n  techSection.appendChild(techList)\n\n  let creditSection = document.createElement('section')\n  let creditSectionHeader = document.createElement('h3')\n  creditSectionHeader.innerText = 'With thanks to'\n  let creditsList = document.createElement('section')\n  let creds = data.credits.sort((a, b) => a.name > b.name)\n  creds.forEach((credit) => {\n    let link = document.createElement('a')\n    link.classList.add('link', 'b', 'no-underline', 'black', 'dib', 'pr3', 'hover-' + randomColour())\n    link.href = credit.link\n    link.innerText = credit.name\n    creditsList.appendChild(link)\n  })\n\n  creditSection.appendChild(creditSectionHeader)\n  creditSection.appendChild(creditsList)\n\n  article.appendChild(title)\n  article.appendChild(link)\n  article.appendChild(summary)\n  article.appendChild(techSection)\n  article.appendChild(creditSection)\n  card.appendChild(article)\n\n  return card\n}\n\nfunction randomColour () {\n  let colours = [\n    'dark-red',\n    'red',\n    'orange',\n    'gold',\n    'yellow',\n    'purple',\n    'light-purple',\n    'hot-pink',\n    'dark-pink',\n    'pink',\n    'dark-green',\n    'green',\n    'navy',\n    'dark-blue',\n    'blue',\n    'light-blue'\n  ]\n  return colours[Math.floor(Math.random() * colours.length)]\n}\n"]}